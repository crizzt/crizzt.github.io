jQuery(function(t){var e=t("#auto"),a=t("#mark"),o=t("#stage"),s=t("#auto-engine"),r=t("#pixel-info"),n=t("#chart-form"),p=t("#chart-info"),d=t("#chart-video"),i=t("#stock"),h=t("#stage-one"),u=t("#stage-two");n.submit(function(){return!1}),r.hide();var l={apiKey:"AIzaSyDXx4uVtEcU0c-G1oKrcLXs-pESh4goVkU",authDomain:"torque-f5ed4.firebaseapp.com",databaseURL:"https://torque-f5ed4.firebaseio.com",projectId:"torque-f5ed4",storageBucket:"torque-f5ed4.appspot.com",messagingSenderId:"140933235811"},c={},v=new Promise((t,e)=>{if(sessionStorage.sessionDatabase)t(JSON.parse(sessionStorage.getItem("sessionDatabase")));else{firebase.initializeApp(l);var a=firebase.database().ref().once("value");a.then(t=>{sessionStorage.setItem("sessionDatabase",JSON.stringify(t.val()))}),t(a.then(t=>t.val()))}e("An error has occured!")});v.then(function(t){var a,o;a=t,o=Object.keys(a),e.html("<option></option>"+o.map(t=>'<option value="'+t+'">'+t+"</option>").join(""))}),v.then(function(t){c=t}),e.change(function(){a.html(""),s.html("");var e=t(this).val();if(e){var o=Object.keys(c[e]);a.html("<option></option>"+o.map(t=>'<option value="'+t+'">'+t+"</option>"))}}),a.change(function(){s.html("");var a=t(this).val(),o=e.val();if(a&&o){var r=Object.keys(c[o][a]);s.html("<option></option>"+r.map(t=>'<option value="'+t+'">'+t+"</option>"))}}),s.change(function(){var o=e.val(),s=a.val();if(t(this).val()){var r=t(this).val(),n=function(t){var e={};e.stock={hp:t.hp,torque:t.torque},t.turbo?(e.stageOne={hp:parseInt(t.hp+.2*t.hp),torque:parseInt(t.torque+.3*t.torque)},e.stageTwo={hp:parseInt(t.hp+.25*t.hp),torque:parseInt(t.torque+.35*t.torque)}):(e.stageOne={hp:parseInt(t.hp+.1*t.hp),torque:parseInt(t.torque+.15*t.torque)},e.stageTwo={hp:parseInt(t.hp+.15*t.hp),torque:parseInt(t.torque+.2*t.torque)});return e}(c[o][s][r]);c[o][s][r].video?(d.show(),d.html('<td colspan="7"><h4><a href="'+c[o][s][r].video+'">Наш обзор с чип тюнингом данного автомобиля.</a></h4></td>')):d.hide(),i.html("<td>"+o+"</td><td>"+s+"</td><td>"+r+"</td><td>"+n.stock.hp+"</td><td>"+n.stock.torque+"</td><td>Stock</td><td> ~ </td>"),h.html('<td colspan="3"></td><td>'+n.stageOne.hp+"</td><td>"+n.stageOne.torque+"</td><td>Stage 1</td><td> ~ </td>"),u.html('<td colspan="3"></td><td>'+n.stageTwo.hp+"</td><td>"+n.stageTwo.torque+"</td><td>Stage 2</td><td> ~ </td>"),p.html('<td colspan="7" class="text-success"><h4>Модификации Stage 3 и выше требуют установки дополнительных модулей.</h4></td>'),h.removeClass("text-up"),u.removeClass("text-up"),i.addClass("text-up")}}),s.change(()=>{r.slideDown(600,()=>{r.show()}),o.prop("selectedIndex",0)}),e.change(()=>{r.slideUp(600,()=>{r.hide()}),o.prop("selectedIndex",0)}),a.change(()=>{r.slideUp(600,()=>{r.hide()}),o.prop("selectedIndex",0)}),o.change(()=>{var t=o.val();"Stock"==t&&(h.removeClass("text-up"),u.removeClass("text-up"),i.addClass("text-up")),"Stage 1"==t&&(i.removeClass("text-up"),u.removeClass("text-up"),h.addClass("text-up")),"Stage 2"==t&&(h.removeClass("text-up"),i.removeClass("text-up"),u.addClass("text-up"))})});