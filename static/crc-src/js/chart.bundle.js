jQuery(function(t){var e=t("#auto"),a=t("#mark"),o=t("#stage"),s=t("#auto-engine"),n=t("#pixel-info"),r=t("#chart-form"),d=t("#chart-info"),i=t("#chart-video"),p=t("#stock"),u=t("#stage-one"),l=t("#stage-two");r.submit(function(){return!1}),n.hide();var h={apiKey:"AIzaSyDXx4uVtEcU0c-G1oKrcLXs-pESh4goVkU",authDomain:"torque-f5ed4.firebaseapp.com",databaseURL:"https://torque-f5ed4.firebaseio.com",projectId:"torque-f5ed4",storageBucket:"torque-f5ed4.appspot.com",messagingSenderId:"140933235811"},c={},m=new Promise((t,e)=>{if(sessionStorage.sessionDatabase)t(JSON.parse(sessionStorage.getItem("sessionDatabase")));else{firebase.initializeApp(h);var a=firebase.database().ref().once("value");a.then(t=>{sessionStorage.setItem("sessionDatabase",JSON.stringify(t.val()))}),t(a.then(t=>t.val()))}e("An error has occured!")});m.then(function(t){var a,o;a=t,o=Object.keys(a),e.html("<option></option>"+o.map(t=>'<option value="'+t+'">'+t+"</option>").join(""))}),m.then(function(t){c=t}),e.change(function(){a.html(""),s.html("");var e=t(this).val();if(e){var o=Object.keys(c[e]);a.html("<option></option>"+o.map(t=>'<option value="'+t+'">'+t+"</option>"))}}),a.change(function(){s.html("");var a=t(this).val(),o=e.val();if(a&&o){var n=Object.keys(c[o][a]);s.html("<option></option>"+n.map(t=>'<option value="'+t+'">'+t+"</option>"))}}),s.change(function(){var o=e.val(),s=a.val();if(t(this).val()){var n=t(this).val(),r=function(t){var e={};e.stock={hp:t.hp,torque:t.torque},t.turbo?(e.stageOne={hp:parseInt(t.hp+.2*t.hp),torque:parseInt(t.torque+.3*t.torque)},e.stageTwo={hp:parseInt(t.hp+.25*t.hp),torque:parseInt(t.torque+.35*t.torque)}):(e.stageOne={hp:parseInt(t.hp+.1*t.hp),torque:parseInt(t.torque+.15*t.torque)},e.stageTwo={hp:parseInt(t.hp+.15*t.hp),torque:parseInt(t.torque+.2*t.torque)});return e}(c[o][s][n]);c[o][s][n].video?(i.show(),i.html('<td colspan="7"><h4><a href="'+c[o][s][n].video+'">Наш обзор с чип тюнингом данного автомобиля.</a></h4></td>')):i.hide(),p.html("<td>"+o+"</td><td>"+s+"</td><td>"+n+"</td><td>"+r.stock.hp+"</td><td>"+r.stock.torque+"</td><td>Stock</td><td> ~ </td>"),u.html('<td colspan="3"></td><td>'+r.stageOne.hp+"</td><td>"+r.stageOne.torque+"</td><td>Stage 1</td><td> ~ </td>"),l.html('<td colspan="3"></td><td>'+r.stageTwo.hp+"</td><td>"+r.stageTwo.torque+"</td><td>Stage 2</td><td> ~ </td>"),d.html('<td colspan="7" class="text-success"><h4>Модификации Stage 3 и выше требуют установки дополнительных модулей.</h4></td>'),u.removeClass("text-up"),l.removeClass("text-up"),p.addClass("text-up")}}),s.change(()=>{n.slideDown(600,()=>{n.show()}),o.prop("selectedIndex",0)}),e.change(()=>{n.slideUp(600,()=>{n.hide()}),o.prop("selectedIndex",0)}),a.change(()=>{n.slideUp(600,()=>{n.hide()}),o.prop("selectedIndex",0)}),o.change(()=>{var t=o.val();"Stock"==t&&(u.removeClass("text-up"),l.removeClass("text-up"),p.addClass("text-up")),"Stage 1"==t&&(p.removeClass("text-up"),l.removeClass("text-up"),u.addClass("text-up")),"Stage 2"==t&&(u.removeClass("text-up"),p.removeClass("text-up"),l.addClass("text-up"))})}),jQuery(document).ready(function(){new Instafeed({get:"user",userId:"4290208823",limit:6,resolution:"standard_resolution",accessToken:"4290208823.1677ed0.af001e058c844edb9e28547b2f4e7b12",sortBy:"most-recent",template:'<div class="col-md-2 col-xs-2 instaimg"><a href="{{link}}" title="{{caption}}" target="_blank"><img src="{{image}}" alt="{{caption}}" class="img-fluid"/></a></div>'}).run()});